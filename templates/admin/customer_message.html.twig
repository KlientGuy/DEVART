{% extends '@DevcoreCore/admin.html.twig' %}
{% block body %}
<h3>Lista wiadomości od klientów</h3>
<div class="row">
    <div class="col-sm-12">
        <table id="messages-table" class="table table-bordered table-striped w-100">
            <thead>
                <tr>
                    <th>Imię</th>
                    <th>Email</th>
                    <th>Wiadomość</th>
                    <th>Utworzono</th>
                </tr>
            </thead>
            <tbody>
                {% for message in messages %}
                    <tr>
                        <td>{{ message.name }}</td>
                        <td>{{ message.email }}</td>
                        <td>{{ message.message }}</td>
                        <td>{{ message.createdAt|date('Y-m-d H:i:s') }}</td>
                    </tr>
                {% endfor %}
            </tbody>
        </table>
    </div>
</div>
{% endblock %}
{% block javascripts %}
<script>
$(function() {
    // let isConfirmed = +$('#only-confirmed').is(':checked');
    const table = $('#messages-table').DataTable({
        {# ajax: { #}
        {#     url: "{{ path('app_admin_customer_list_data') }}", #}
        {#     dataSrc: data => data, #}
        {#     data: (data) => { #}
        {#         data.valid = isConfirmed; #}
        {#     } #}
        {# }, #}
        {# columns: [ #}
        {#     {data: 'name'}, #}
        {#     {data: 'email'}, #}
        {#     {data: 'phoneNo'}, #}
        {#     {data: 'country.name'}, #}
        {#     {data: 'message'}, #}
        {#     {data: 'createdAt'}, #}
        {#     {data: 'verified', render: (data) => `<i class="la ${data ? 'la-check text-success' : 'la-times text-danger'}"></i>`} #}
        {# ], #}
        {# order: [[5, 'DESC']] #}
    });

    // $('#only-confirmed').on('change', function() {
    //     isConfirmed = +$(this).is(':checked');
    //     table.ajax.reload();
    // })
})
</script>
{% endblock %}
